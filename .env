# ============================================
# POSTGRESQL DATABASE
# ============================================
DB_HOST=postgres
DB_PORT=5432
DB_USER=jobinsight
DB_PASSWORD=jobinsight
DB_NAME=jobinsight

# Connection pool settings
DB_POOL_SIZE=5
DB_MAX_OVERFLOW=10
DB_POOL_TIMEOUT=30

# ============================================
# DUCKDB DATA WAREHOUSE
# ============================================
DUCKDB_PATH=data/duck_db/jobinsight_warehouse.duckdb
DUCKDB_MEMORY_LIMIT=2GB
DUCKDB_THREADS=4

# ============================================
# MINIO OBJECT STORAGE
# ============================================
MINIO_ENDPOINT=minio:9000
MINIO_ACCESS_KEY=minioadmin
MINIO_SECRET_KEY=minioadmin
MINIO_SECURE=false
MINIO_REGION=us-east-1

# MinIO Buckets
MINIO_BUCKET_RAW=jobinsight-raw
MINIO_BUCKET_WAREHOUSE=jobinsight-warehouse
MINIO_BUCKET_ARCHIVE=jobinsight-archive
MINIO_BUCKET_BACKUP=jobinsight-backup

# ============================================
# NOTIFICATION & ALERTS
# ============================================

# Telegram Bot (recommended)
TELEGRAM_BOT_TOKEN=123456789:ABCDEFGHIJKLMNOPQRSTUVWXYZ
TELEGRAM_CHAT_ID=987654321
TELEGRAM_ALERTS_ENABLED=true

# Discord Webhook (optional)
DISCORD_WEBHOOK_URL=https://discord.com/api/webhooks/your_webhook_url
DISCORD_ALERTS_ENABLED=false

# ============================================
# AIRFLOW CONFIGURATION
# ============================================
AIRFLOW_UID=50000
AIRFLOW_GID=0

# Airflow Database
AIRFLOW_DB_HOST=postgres
AIRFLOW_DB_PORT=5432
AIRFLOW_DB_USER=airflow
AIRFLOW_DB_PASSWORD=airflow
AIRFLOW_DB_NAME=airflow

# ============================================
# CRAWLER CONFIGURATION
# ============================================
CRAWLER_NUM_PAGES=5
CRAWLER_CONCURRENT_BACKUPS=3
CRAWLER_USE_PARALLEL=true
CRAWLER_ENABLE_CDC=false
CRAWLER_DELAY_MIN=2
CRAWLER_DELAY_MAX=5
CRAWLER_MAX_RETRIES=3

# ============================================
# ETL CONFIGURATION
# ============================================
ETL_BATCH_SIZE=5000
ETL_INCREMENTAL_MODE=true
ETL_LAST_ETL_DATE=2025-01-01

# ============================================
# DATA QUALITY THRESHOLDS
# ============================================
DQ_MIN_JOBS_COUNT=50
DQ_EXPECTED_JOBS_COUNT=350
DQ_MAX_DUPLICATE_RATE=0.05
DQ_MAX_DATA_LOSS_RATE=0.05
DQ_MAX_METRIC_VARIANCE=0.5

# ============================================
# RETENTION POLICIES
# ============================================
RETENTION_HTML_DAYS=15
RETENTION_PARQUET_MONTHS=12
RETENTION_POSTGRESQL_DAYS=30
RETENTION_BACKUP_DAYS=7

# ============================================
# MONITORING & HEALTH CHECK
# ============================================
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_PORT=5000
METRICS_COLLECTION_ENABLED=true
MONITORING_DASHBOARD_ENABLED=false

# ============================================
# LOGGING
# ============================================
LOG_LEVEL=INFO
LOG_FORMAT=json
LOG_TO_FILE=true
LOG_TO_CONSOLE=true

# ============================================
# ENVIRONMENT
# ============================================
ENVIRONMENT=development
# Options: development, staging, production
DEBUG=false
